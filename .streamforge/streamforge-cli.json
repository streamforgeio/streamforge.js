{"name":"runny-simple-merge","dsType":"kafka","components":[{"alias":"bitcoin-calculation","conflationContext":{"type":"none"},"sinks":[],"sources":[{"alias":"btc-raw","conflationContext":{"type":"none"},"sinks":[],"@type":"Source","scope":"global","throttling":{"count":1,"duration":1,"durationType":"seconds"}},{"alias":"ico-parity","conflationContext":{"type":"none"},"sinks":[],"@type":"Source","filter":"function(s) {\n\t\t\treturn s.ico == 'btc' &&\n\t\t\t\ts.currency == 'usd' ;\n\t\t}","scope":"global","throttling":{"count":1,"duration":1,"durationType":"seconds"}}],"func":"function(p1, p2) {\n\t\tvar r = {\n\t\t\t'amount': (p1.amount * p2.body.result.price.last)\n\t\t}\n\t\treturn {\"request\" : JSON.stringify(r)};\n\t}","@type":"Zip"},{"alias":"ethereum-calculation","conflationContext":{"type":"none"},"sinks":[],"sources":[{"alias":"eth-pending","conflationContext":{"type":"none"},"sinks":[],"@type":"Source","scope":"global","throttling":{"count":1,"duration":1,"durationType":"seconds"}},{"alias":"ico-parity","conflationContext":{"type":"none"},"sinks":[],"@type":"Source","filter":"function(s) {\n\t\t\treturn s.ico == 'eth' &&\n\t\t\t\ts.currency == 'usd';\n\t\t}","scope":"global","throttling":{"count":1,"duration":1,"durationType":"seconds"}}],"func":"function(p1, p2) {\n\t\tvar r = {\n\t\t\t'amount': (p1.amount * p2.body.result.price.last) / 1000000\n\t\t}\n\t\treturn {\"request\" : JSON.stringify(r)};\n\t}","@type":"Zip"},{"alias":"merge","conflationContext":{"type":"none"},"sinks":[{"alias":"api-compare","additionalProperties":{"http.method":"POST","http.api-key":"8d77f7d14a4864931f15072255fc1b58de8941cd45a8a896ed4ebf99b93d2e33"},"@type":"APISink","url":"http://localhost:4499/api/trxs","source":{"alias":"merge","conflationContext":{"type":"none"},"sinks":[],"@type":"Source","scope":"local"}}],"sources":[{"alias":"ethereum-calculation","conflationContext":{"type":"none"},"sinks":[],"@type":"Source","scope":"local"},{"alias":"bitcoin-calculation","conflationContext":{"type":"none"},"sinks":[],"@type":"Source","scope":"local"}],"@type":"Merge","inCount":2}]}