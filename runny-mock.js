{"dsType":"kafka","components":[{"alias":"bitcoin-calculation","conflationContext":{"type":"none"},"func":"function(p1, p2) {\n\t\tif (p1.vout.length == 0)\n\t\t\treturn {\n\t\t\t\t'amount': 0\n\t\t\t}\n\t\tvar r = {\n\t\t\t'amount': 0\n\t\t\t}\n\t\tvar r = {\n\t\t\t'amount': (p1.vout[0].amount * p2.body.result.price.last) / 1000000\n\t\t}\n\t\treturn r;\n\t}","@type":"Zip","sources":[{"alias":"btc-raw","conurce","scope":"global","throttling":{"countflationContext":{"type":"none"},"@type":"Source","scope":"global","throttling":{"count":1,"duration":1,"durationType":"second"}},{"alias":"ico-parity","conflationContext":{"type":"none.currency == 'usd' ;\n\t\t}","scope":"globa"},"@type":"Source","filter":"function(s) {\n\t\t\treturn s.ico == 'btc' &&\n\t\t\t\ts.currency == 'usd' ;\n\t\t}","scope":"global","throttling":{"count":1,"duration":1,"durationType":t'amount': (p1.gas * p2.body.result.price.l"second"}}]},{"alias":"ethereum-calculation","conflationContext":{"type":"none"},"func":"function(p1, p2) {\n\t\tvar r = {\n\t\t\t'amount': (p1.gas * p2.body.result.price.last) / 10000': (s1.gas + s2.gas)\n\t\t\t}\n\t\t}"},"@ty00\n\t\t}\n\t\treturn r;\n\t}","@type":"Zip","sources":[{"alias":"eth-pending","conflationContext":{"type":"custom","func":"function(s1, s2) {\n\t\t\treturn {\n\t\t\t\t'gas': (s1.gas +on(s) {\n\t\t\treturn s.ico == 'eth' &&\n\t s2.gas)\n\t\t\t}\n\t\t}"},"@type":"Source","scope":"global","throttling":{"count":1,"duration":1,"durationType":"second"}},{"alias":"ico-parity","conflationContext":{"type":"none"},"@tion(p1, p2) {\n\t\tvar amount = {\n\t\t\t\type":"Source","filter":"function(s) {\n\t\t\treturn s.ico == 'eth' &&\n\t\t\t\ts.currency == 'usd';\n\t\t}","scope":"global","throttling":{"count":1,"duration":1,"durationType":"secon@type":"Zip","sources":[{"alias":"bitcoin-cd"}}]},{"alias":"compare","conflationContext":{"type":"none"},"func":"function(p1, p2) {\n\t\tvar amount = {\n\t\t\t\"btc-usd-amount\": p1.amount,\n            \"eth-usd-amount\": p2.a,"sink":{"alias":"ws-compare","source":"commount,\n            \"date\" : new Date()\n        };\n        return {\"request\" : JSON.stringify(amount)};\n\t}","@type":"Zip","sources":[{"alias":"bitcoin-calculation","conflationContext":{"type":"none"},"@type":"Source","scope":"local"},{"alias":"ethereum-calculation","conflationContext":{"type":"none"},"@type":"Source","scope":"local"}],"sink":{"alias":"ws-compare","source":"compare","additionalProperties":{"http.method":"POST","http.api-key":"8d77f7d14a4864931f15072255fc1b58de8941cd45a8a896ed4ebf99b93d2e33"},"@type":"WSSink","url":"ws://localhost:4498"}}]}